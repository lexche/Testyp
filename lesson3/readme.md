## Урок 3. Работа с файлами

В заключительном уроке этой темы мы поговорим о работе с файлами при помощи Python. Python взаимодействует с файлами с помощью встроенных функций и методов, которые обеспечивают различные операции чтения, записи и управления файлами. 

Ранее в этом курсе мы рассматривали дескрипторы файлов. Кратко напомним, дескриптор файла - это целое число, которое операционная система использует для идентификации открытого файла. Он представляет собой абстрактную ссылку на файл, позволяя программе взаимодействовать с ним.  

Он как шифр, который открывает доступ к файлу, не раскрывая его точное местоположение на компьютере. 

Как работают дескрипторы файлов:

1. Открытие файла: При обращении к файлу (чтение, запись, выполнение) операционная система проверяет наличие такого файла и, если он найден, создает дескриптор, который  "привязывается" к этому файлу. 

2. Использование дескриптора:  Дескриптор позволяет вам взаимодействовать с файлом, не зная его физического местоположения на диске.  Вы можете читать, записывать данные, менять атрибуты файла, используя только дескриптор.

3. Закрытие файла:  После завершения работы с файлом необходимо "отвязать" дескриптор от него. Это освобождает ресурсы системы и предотвращает нежелательные изменения файла.

Преимущества использования дескрипторов:

* Упрощение доступа к файлам: Программисту не нужно знать детали физического расположения файла на диске.

* Улучшенная безопасность:  Дескрипторы  делают доступ к файлам более безопасным, так как они не раскрывают  полный путь к файлу.

* Эффективное управление ресурсами:  Дескрипторы  помогают  оптимизировать  использование  файлов,  ограничивая  количество  открытых  файлов  одновременно.

В Python дескрипторы файлов используются "под капотом", и программист обычно не работает с ними напрямую. Python предоставляет более удобный и абстрактный способ работы с файлами через объекты file.

Рассмотрим основные функции в Python для работы с файлами:

#### 1. Функция open().

 Функция open() в Python используется для открытия файлов в различных режимах. Она позволяет читать, записывать и работать с содержимым файлов. Вот более подробное объяснение о функции open() с примерами:

 ```
open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)
```

- file: имя файла или путь к файлу.
  
- mode: режим открытия файла. По умолчанию используется режим чтения r (read). Другие режимы :

r (Read) - Открывает файл только для чтения. Если файла не существует, возникнет ошибка FileNotFoundError.

w (Write) - Открывает файл для записи. Если файл не существует, он будет создан. Если файл уже существует, он будет перезаписан, и старые данные будут удалены.

a (Append) - Открывает файл для добавления данных. Если файл не существует, он будет создан. Если файл уже существует, новые данные будут добавлены в конец файла.

b (Binary) - Указывает, что файл нужно обрабатывать как бинарный. Используется в сочетании с другими режимами, например, rb (чтение бинарных файлов) и wb (запись бинарных файлов).

r+ (Read and Write) - Открывает файл для чтения и записи. Если файла не существует, возникнет ошибка FileNotFoundError.

w+ (Write and Read) - Открывает файл для чтения и записи. Если файла не существует, он будет создан. Если файл уже существует, он будет перезаписан.

a+ (Append and Read) - Открывает файл для чтения и записи. Если файла не существует, он будет создан. Если файл уже существует, новые данные будут добавлены в конец файла, а также можно будет читать данные из файла.

- buffering: параметр, который определяет размер буфера для чтения или записи. Если buffering=0, то буферизация будет отключена.

- encoding: кодировка файла.

- errors: способ обработки ошибок при чтении или записи файла.

- newline: перевод строки.

- closefd: указывает, следует ли закрывать файловый дескриптор при закрытии файла.

- opener: функция, которая будет использоваться для открытия файла.


 Примеры использования функции open():
 
##### Пример 1: Чтение файла
with open('example.txt', 'r') as file:
    data = file.read()
    print(data)


##### Пример 2: Запись в файл
with open('example.txt', 'w') as file:
    file.write('Hello, world!')


##### Пример 3: Чтение файла построчно
with open('example.txt', 'r') as file:
    for line in file:
        print(line)

При работе с файлами, важно не забывать закрывать файл с помощью конструкции with, чтобы избежать утечки ресурсов. Конструкция with в Python используется для гарантированного выполнения действий до и после блока кода, что особенно важно при работе с файлами. Подробнее о конструкции with расскажем во второй части урока.

#### 2. Функция read().

