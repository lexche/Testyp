## Комментарий
Я перекроил урок, так как time-sharing поперёк всего, про него либо в 1м уроке рассказывать, в классификации ОС, либо после процессов сразу, что я и сделал, кроме того, жизненные циклы процессов тоже в первую часть урока, а далее упор на системные вызовы, чтобы более-менее единое полотно повествования сохранилось: всё по процессам, далее time-sharing, всё по системным вызовам.

## Урок 3. Процессы и системные вызовы.

Исполняющиеся программы называются процессами. Процессы общаются с операционной системой и внешним миром с помощью системных вызовов. Сейчас расскажем как.

Чуть дольше остановимся на высказывании выше, чтобы дать определение основным терминам, так дальше будет проще и понятнее. 

Программа - это набор команд, написанных на языке программирования, чтобы компьютер мог понять, что делать. Эти команды объединяются в определенном порядке для выполнения конкретной задачи, будь то отображение веб-страницы, обработка изображений или сортировка данных. Когда программа выполняется, компьютер следует этим инструкциям, чтобы добиться нужного результата.

Процесс - это контейнер, внутри которого выполняется один экземпляр программы. 
Процесс состоит из:

- адресного пространства
- потоков
- открытых файлов
- дочерних процессов

Каждый процесс имеет жизненный цикл. Отличие в жизненном цикле процесса может быть связано с конкретной операционной системой, но общие этапы включают:

1. Создание (Creation): Процесс создается операционной системой, например, когда вы запускаете новую программу.
1. Готовность (Ready): Процесс ожидает своей очереди на выполнение.
1. Выполнение (Running): Процесс находится в процессе выполнения.
1. Ожидание (Waiting): Процесс ожидает завершения какого-то события, например, ввода-вывода или сигнала от другого процесса.
1. Завершение (Termination): Процесс завершается и освобождает выделенные ресурсы.

Кроме того, существуют также состояния, такие как «приостановлен», «зомби» и т.д., которые зависят от особенностей конкретной системы.

Так как же процессор успевает обработать все процессы? В первом уроке мы узнали, что ОС разделяются, в том числе, и по типу доступа к ресурсам. В настоящее время наиболее распространены ОС разделения времени (time-sharing). 

Операционные системы, поддерживающие time-sharing, используют планирование процессов для того, чтобы каждый процесс получил адекватную долю времени процессора для выполнения. Это позволяет создать впечатление параллельной работы множества процессов, даже если на самом деле процессор выполняет их поочередно.

Принцип работы time-sharing:
1. Планирование процессов: Операционная система использует алгоритмы планирования для распределения доступного процессорного времени между активными процессами. Это означает, что каждый процесс получает краткий промежуток времени для выполнения, прежде чем операционная система переключает контекст на следующий процесс.

2. Контекстное переключение: Когда операционная система переключает выполнение с одного процесса на другой, происходит контекстное переключение, при котором сохраняется состояние одного процесса, а затем загружается состояние другого процесса. 

3. Многозадачность: Time-sharing позволяет достичь многозадачности, т.е. впечатление одновременной работы нескольких процессов, даже несмотря на то, что процессор фактически последовательно выполняет их.

Таким образом, благодаря time-sharing операционная система старается обеспечить справедливое распределение процессорного времени между множеством процессов, создавая впечатление одновременной работы.

## ПЗ

Тут у нас повтор со вторым уроком, заменил на "выбери несуществующее состояние процесса .

Какого состояния процесса не сушествует?

- Готовность. \Неверно
- Зомби. \Неверно
- Продолжение. \Верно
- Завершение. \Неверно


Как мы узнали в прошлом уроке, программа , запущенная пользователем без административных прав, не имеет доступа к режиму ядра ОС, то есть ко всему аппаратному оборудованию устройства и его программным возможностям, но используя системные вызовы, программа может получить необходимые ресурсы от ОС, давайте более подробно рассмотрим этот процесс:

1.	Процесс выполняет системный вызов.
1.	Процессор делает прерывание и переходит в режим ядра.
1.	Ядро выполняет указанную системную функцию и возвращает управление процессу в пользовательском режиме.
1.	Процесс продолжает свое выполнение в пользовательском режиме.
   
Такой механизм позволяет ядру контролировать доступ к привилегированным операциям и ресурсам системы. Основные типы системных вызовов:

1. Создание процесса:
  fork: Создание нового процесса, путем копирования вызывающего процесса. Этот вызов может быть использован, например, для создания параллельных процессов или демонов.

2. Управление файлами:
   open, read, write, close: Они используются для работы с файлами - открытия, чтения, записи и закрытия файлов соответственно. Эти системные вызовы позволяют приложениям взаимодействовать с файловой системой.

3. Управление памятью:
   brk, mmap, munmap: Для управления памятью приложения используются эти системные вызовы. Например, mmap может использоваться для отображения файла в память для быстрого доступа.

4. Создание и управление потоками:
   clone, pthread_create: Эти системные вызовы используются для создания и управления потоками выполнения в многопоточных приложениях.

5. Создание и управление сетевыми соединениями:
   socket, bind, connect, send, recv: Для работы с сетевыми соединениями приложения используют эти системные вызовы. Например, socket используется для создания нового сокета.

6. Управление процессами:
   exec, kill, wait: Эти вызовы используются для управления процессами. Например, exec используется для замены текущего процесса новым процессом.

7. Управление устройствами ввода-вывода:
   ioctl: Данный вызов используется для управления устройствами ввода-вывода, например, чтения и установки параметров устройств.

В отличии от UNIX-подобных систем, таких как Linux или MacOS, где системные вызовы обычно реализованы через прерывания, В операционной системе Windows системные вызовы обычно выполняются через интерфейс API операционной системы. Интерфейс прикладного программирования (API) — это набор правил и методов, позволяющих различным программам взаимодействовать друг с другом.  При вызове API происходит переключение контекста из пользовательского режима в режим ядра, где происходит обработка запроса.

Стоит так же обратить внимание на то, что каждый системный вызов требует переключения контекста между пользовательским и ядерным уровнями, что вызывает некоторые накладные расходы. Оптимизации системных вызовов, такие как использование кэширования или асинхронных вызовов, могут повысить производительность.А так же неправильное использование системных вызовов(случайное или злонамеренное) может привести к уязвимостям безопасности. Например, некорректная обработка ввода-вывода файлов или недостаточная проверка разрешений при доступе к ресурсам может привести к утечкам данных или повышенным привилегиям.

## ПЗ

Какие системные вызовы выполняет программа для создания и записи в файл?

open, write, close


### Завершение теор.части урока

- Введение в более сложные концепции управления процессами и безопасности.

 ### Можно подробнее, о чём нужно написать?

