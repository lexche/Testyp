## Урок 4. Практическое применение и настройка систем мониторинга.

В прошлом уроке, при разборе систем монитоинга мы уже затрагивали практические применения этих систем. В этом уроке сосредоточимся на практической части.

Начнём с того, что перед этой темой была тема "Контейнеризация" и это неслучайно. Дело в том, что все 3 продукта (Zabbix, Prometheus, Grafana) прекрасно себя "чувствуют" в контейнерах. Иными словами их можно развернуть как привычным путём: скачивание->установка->настройка->запуск, так и с помощью подготовленных контейнеров, которые так же нужно будет адаптировать под свою систему путём настроек.

Давайте разберёмся в чём разница этих двух методов.

#### Установка из пакетов:

1. Производительность. Установка системы мониторинга непосредственно на хост-систему обычно обеспечивает более высокую производительность, поскольку приложение будет запущено нативно на хосте.

2. Легкость управления. Управление системой мониторинга через пакетный менеджер (например, apt или yum) может быть проще для администрирования и масштабирования системы.

3. Доступ к ресурсам. Прямая установка из пакетов позволяет приложению иметь прямой доступ к ресурсам и конфигурациям хост-системы, что может быть полезно в некоторых случаях.

#### Запуск из контейнера:

1. Изоляция. Контейнеры обеспечивают изоляцию приложений и их зависимостей, что позволяет обеспечить надежную работу системы мониторинга без конфликтов с другими компонентами на хост-системе.

2. Портативность. При использовании контейнеров систему мониторинга легче переносить между различными окружениями без необходимости повторной установки и настройки.

3. Интеграция. Обычно контейнерные образы могут быть легче интегрированы с другими инструментами и сервисами благодаря их портативности и универсальности.

#### Какой подход выбрать?

- Контейнеры: Контейнеры часто предпочтительны для развертывания систем мониторинга в распределенной среде, где требуется гибкость и портативность.

- Установка из пакетов: Если вам важна производительность и надежность доступа к ресурсам хоста, установка из пакетов может быть предпочтительным вариантом.

При выборе способа запуска систем мониторинга необходимо учитывать особенности инфраструктуры, требования по производительности, гибкости настройки и управления. Оба подхода имеют свои плюсы и минусы, поэтому важно подходить к выбору с учетом конкретных потребностей вашей системы.

### Квиз. Ответьте правильно на вопросы. Вопросы так же относятся к прошлому уроку:

### Вопрос 1: Какой инструмент используется для визуализации данных в системе мониторинга?

- A) Prometheus
- B) Zabbix
- C) Grafana
- D) Nagios

Правильный ответ: C) Grafana. Grafana представляет собой мощный инструмент визуализации данных, который широко используется для создания красивых и информативных дашбордов на основе данных, собранных системами мониторинга.

### Вопрос 2: Какой компонент системы Zabbix отвечает за сбор и агрегацию метрик?

- A) Zabbix Proxy
- B) Zabbix Agent
- C) Zabbix Server
- D) Zabbix Frontend

Правильный ответ: C) Zabbix Server. Zabbix Server отвечает за сбор, агрегацию и хранение метрик, приходящих от Zabbix Agent и других источников данных.

### Вопрос 3: Какой язык запросов используется для извлечения данных из Prometheus?

- A) SQL
- B) JSON
- C) YAML
- D) PromQL

Правильный ответ: D) PromQL. PromQL (Prometheus Query Language) - это язык запросов, специально разработанный для работы с данными, сохраненными в базе данных Prometheus.

### Вопрос 4: Какой метод использования систем мониторинга обеспечивает большую гибкость и портативность?

- A) Установка из пакетов
- B) Запуск из контейнера
- C) Ручная установка
- D) Сборка из исходного кода

Правильный ответ: B) Запуск из контейнера. Запуск систем мониторинга из контейнера обеспечивает большую гибкость, портативность и изоляцию приложения и его зависимостей.

---

Надеюсь, нам удалось усыпить вашу бдительность теорией, поэтому самое время перейти к практике. 

В прошлом уроке мы разбирали пример, когда Zabbix был уже установлен и мы "поковырялись" в его настройках через web-интерфейс. В этом уроке давайте научимся его устанавливать из пакетов.

В первую очередь стоит посетить официальный сайт Zabbix: https://www.zabbix.com/download и посмотреть, какой релиз у них актуален:

![4 7 1](https://github.com/lexche/Testyp/assets/95694325/72997c44-216e-4f5d-8fed-54ef1544e710)

Как видите, они хоть и не Tefal, но тоже о нас думают. Вы можете выбрать необходимый релиз, дистрибутив ОС, версию ОС, какие компоненты вы хотите установить, какой тип БД и какой Web-сервер вы хотите использовать.
После того, как вы сделаете выбор, внизу появится список команд, выполнив которые, вы запустите на своей ОС сервер мониторинга Zabbix. Давайте посмотрим и дадим объяснения этим командам.



