## Урок 4. Протоколы доступа к данным


Мы собрали хранилище, теперь нужно предоставить к нему доступ. К локальным дискам на сервере не нужно настраивать какой-то специальный доступ. Но для централизованной системы хранения нужны специальные протоколы. Есть набор таких протоколов, о некоторых мы уже рассказывали в прошлых уроках. Для этих целей есть 2 вида протоколов: блочные (FCP  (Fibre Channel Protocol), iSCSI) и файловые: SMB, NFS.

#### Блочные протоколы данных

Блочные протоколы данных - это протоколы, которые управляют доступом к данным на низком уровне, позволяя чтение и запись данных в виде фиксированных блоков фиксированного размера на устройствах хранения. Они оперируют на уровне устройства хранения, не имея представления о структуре файловой системы.  Примеры:

1. iSCSI (Internet Small Computer System Interface):
   - Описание: iSCSI - это протокол передачи блочных данных по сети TCP/IP. Он позволяет устройствам хранения данных, таким как серверы или хранилища, предоставлять удаленным клиентам доступ к блочным данным через IP-сеть.
   - Преимущества:
     - Гибкость: Использование сети TCP/IP позволяет использовать существующую сетевую инфраструктуру без необходимости в дополнительном оборудовании.
     - Управление: Протокол iSCSI поддерживает функции управления, такие как обнаружение устройств, и управление качеством обслуживания (QoS), что обеспечивает гибкость в настройке.
   - Недостатки:
     - Производительность: Использование сети TCP/IP может сказаться на производительности в сравнении с более специализированными сетевыми технологиями, такими как Fibre Channel.
     - Безопасность: Требуется обеспечить безопасность передачи данных по открытым сетям.

2. Fibre Channel Protocol (FCP):
   - Описание: Протокол Fibre Channel (FC) - это высокоскоростной протокол передачи данных, который обычно используется в SAN (Storage Area Network). Протокол FCP является одним из протоколов, используемых в Fibre Channel, который позволяет устройствам хранения данных обмениваться блочными данными в SAN.
   - Преимущества:
     - Производительность: Fibre Channel обеспечивает высокую скорость передачи данных и низкую задержку, что делает его привлекательным для приложений с высокими требованиями к производительности.
     - Надежность: Fibre Channel предоставляет механизмы проверки целостности данных и обеспечивает высокую надежность передачи данных.
   - Недостатки:
     - Сложность: Развёртывание и управление сетями Fibre Channel может потребовать дополнительной экспертизы и специализированного оборудования, что может повысить затраты на поддержку.

В целом, iSCSI и Fibre Channel Protocol предоставляют разные подходы к передаче блочных данных. iSCSI обеспечивает гибкость и простоту настройки за счёт использования сети TCP/IP, в то время как Fibre Channel обеспечивает высокую производительность и надежность за счёт специализированной инфраструктуры. Выбор между ними зависит от конкретных требований к производительности, надёжности и затратам на обслуживание.

#### Файловые протоколы данных

Файловые протоколы данных - это протоколы, которые управляют доступом к данным на уровне файловой системы, позволяя организовывать данные в виде файлов и каталогов. Они обеспечивают абстракцию над блочными устройствами, предоставляя удобный способ организации, доступа и управления данными. Примеры файловых протоколов данных включают NTFS (для Windows), ext4 (для Linux), APFS (для macOS) и т. д.

1. SMB (Server Message Block):
   - Описание: Протокол SMB является одним из самых популярных файловых протоколов и используется для обмена файлами и принтерами между устройствами в сети. Он разработан Microsoft и широко применяется в Windows-среде.
   - Преимущества:
     - Мультиплатформенность: Поддерживается не только Windows, но и другими операционными системами, такими как Linux или macOS.
     - Простота настройки: Легко настраивается и обеспечивает удобный способ обмена файлами в гетерогенных сетях.
   - Недостатки:
     - Ограничения безопасности: Могут возникнуть вопросы безопасности при несоблюдении соответствующих мер защиты данных.

2. NFS (Network File System):
   - Описание: Протокол NFS предоставляет возможность удаленного доступа к файловым системам через сеть. Он наиболее часто ассоциируется с UNIX-подобными операционными системами, но также поддерживается в других ОС.
   - Преимущества:
     - Производительность: NFS обеспечивает относительно высокую производительность при доступе к файлам по сети.
     - Расширяемость: Позволяет масштабировать доступ к файловой системе для множества клиентов.
   - Недостатки:
     - Сложность настройки: Настройка и конфигурация NFS может требовать дополнительных шагов по сравнению с SMB.
     - Совместимость: Могут возникнуть проблемы совместимости при взаимодействии с различными операционными системами.

Итак, как SMB, так и NFS являются широко используемыми файловыми протоколами для обмена данными в сети. SMB обычно используется в Windows-среде, в то время как NFS чаще связан с UNIX-подобными системами. Выбор между ними, как и всегда, зависит от конкретных требований, потребностей и особенностей среды вашей сети.
