## Подключение к учебной инфраструктуре

### Установка ПО

Начнём со скачивания и установки необходимого для подключения программного обеспечения:

1. Putty - это бесплатное и открытое кроссплатформенное прикладное программное обеспечение, которое представляет собой терминал для удаленного доступа по протоколам SSH, Telnet, и серии других протоколов, также поддерживается подключение по последовательному порту.
Переходим на сайт https://putty.org.ru/ :

![W1](https://github.com/lexche/Testyp/assets/95694325/429f784b-21cf-45d9-b401-90417beba9a2)

Далее переходим на вкладку Скачать и скачиваем PuTTY:

![W2](https://github.com/lexche/Testyp/assets/95694325/307e7c39-dfe0-40cd-88ee-84d7cb040705)

После того как файл скачался, его нужно установить, нужны права Администратора:

![W3](https://github.com/lexche/Testyp/assets/95694325/8829eccf-454f-49b0-9872-4fddd3233e66)

Нажимаем запустить:

![W4](https://github.com/lexche/Testyp/assets/95694325/45f6d22c-28d3-4159-a2ca-fb25e8859510)

Жмём Next, затем Install:

![W5](https://github.com/lexche/Testyp/assets/95694325/1a613545-71b6-491e-82bc-5660ffd12ccf)

Снимаем галочку и нажимаем Finish: 

![W6](https://github.com/lexche/Testyp/assets/95694325/54966a7f-c3bc-40ce-9540-898fb2ea74df)

Установка завершена, Putty появится в списке программ, можете создать ярлык на рабочем столе или закрепить на панели задач, при необходимости:

![W7](https://github.com/lexche/Testyp/assets/95694325/51a4f27b-70a2-44bb-ba17-5177b21ce159)


2. Tailscale - это современное средство для создания приватных сетей (VPN) с использованием современных принципов безопасности и удобства. Он предоставляет простой способ соединить различные устройства и сети, позволяя им обмениваться данными и ресурсами, будучи при этом защищенным на уровне шифрования и аутентификации.

Дистрибутив доступен по ссылке: https://sysadmin.education-services.ru/downloads/tailscale-setup-full-1.58.2.exe

После запуска запускаем дистрибутив:

![W8](https://github.com/lexche/Testyp/assets/95694325/59507199-9c1b-4dcf-9c18-b60b278cf10c)

Жмём Запустить:

![W9](https://github.com/lexche/Testyp/assets/95694325/c3c160e7-096e-4359-9e6d-5b9b4c0d3c03)

Ставим галочку и жмём Install:

![W10](https://github.com/lexche/Testyp/assets/95694325/41aa8452-1af1-4389-8e58-97524ced8d41)

Нажимаем Close, установка завершена.

![W11](https://github.com/lexche/Testyp/assets/95694325/0a3362a1-1653-43cb-8139-50e0f60545de)

Программа появится в списке программ, можете создать ярлык на рабочем столе или закрепить на панели задач, при необходимости:

![W12](https://github.com/lexche/Testyp/assets/95694325/069d7513-a3b6-424a-abf8-50bb4c397831)

Программа добавиться автоматически в автозагрузку, не нужно её из неё убирать, так как при настройке доступа логин добавиться автоматически.

### Настройка доступа

Нажмите сочетание клавиш Win+R введите cmd и Ок:

![W13](https://github.com/lexche/Testyp/assets/95694325/5c9ae2d4-16b3-4fe4-b89d-7d62cae14667)

В появившейся командной строке введите следующую еоманду и нажмите Enter:

```
tailscale login --shields-up --accept-routes --login-server https://vpn.sysadmin.education-services.ru
```
В ответ будет выдана ссылка, которую нужно скопировать и вставить в браузер:

![W14](https://github.com/lexche/Testyp/assets/95694325/37cbaa71-6f8a-42fc-9002-7ac1e5383214)

При переходе по ссылке вам будет предложено ввести логин и пароль, которые вым выдали ранее, введите их:

![W15](https://github.com/lexche/Testyp/assets/95694325/db9e9556-95bc-4acf-9d3b-9f71990dd49f)

Далее вы увидите окно:

![W16](https://github.com/lexche/Testyp/assets/95694325/d6114ed0-060f-424d-b5ad-ee4c19632ce3)

В нём говорится, что необходимо установить одно из приложений на выбор на сотовый телефон для получения одноразовых паролей, так как для подключения к инфраструктуре используется двухфакторная аутентификация. Для примера мы будем использовать приложение FreeOTP, так оно выглядит в appstore: 

![W17](https://github.com/lexche/Testyp/assets/95694325/1e7e6350-7586-43e8-b871-be9f83418422)

Заходим в приложение, жмём на иконку Qr-code'а, если запросит разрешение на использование камеры, разрешаем, направляем на Qr-code, который высветился на сайте авторизации:

![W18](https://github.com/lexche/Testyp/assets/95694325/88562be4-c5ae-4df0-891d-72c4767fb73f)

После этого в приложении создастся токен для вашей учётной записи, который будет генерировать случайные одноразовые пароли:

![W19](https://github.com/lexche/Testyp/assets/95694325/b52569fd-e543-4b88-9860-d0d47e9f4e1c)

А сайт пропустит дальше, предложив ввести одноразовый пароль и имя устройство. Одноразовый пароль берём из приложения, имя устройство придумываем самостоятельно, нажимаем Submit:

![W20](https://github.com/lexche/Testyp/assets/95694325/d5f1fdf4-ea55-477a-8ff7-f29355808204)

Если всё хорошо, то вы увидите такую надпись, сайт можно закрывать:

![W21](https://github.com/lexche/Testyp/assets/95694325/c59b4885-bf6f-4060-b1ce-3d7e56df21d5)

Программа Tailscale находится в правом нижнем углу, рядом с часами:

![W22](https://github.com/lexche/Testyp/assets/95694325/aaace979-425a-4189-8435-3483182f09aa)

Нажмите на неё правой кнопкой мыши\тачпада, вы увидите свой логин, нажмите на кнопку Connect:

![W23](https://github.com/lexche/Testyp/assets/95694325/8cec03ef-ebaa-4dbc-bda3-f85f78f30d71)

Значок приложение измениться в активное состояние:

![W24](https://github.com/lexche/Testyp/assets/95694325/003462d7-88cc-4464-b2d9-a7de35a6932a)

Откройте Putty в графе Host Name напишите "ваш логин"@cloudshell.sysadmin.local, как на рисунке и сохраните это подключение, если не хотите вводить это каждый раз, нажмите Open:

![W25](https://github.com/lexche/Testyp/assets/95694325/4b4035bb-c4c9-452c-ac84-9c6bbbb054f2)

Площадка запросит у вас пароль:

![W26](https://github.com/lexche/Testyp/assets/95694325/53d2081c-3eff-4205-997a-47501ace1ed1)


Этот пароль состоит из 2х частей: пароль, который вам выдали и пароль из мобильного приложения, записать их нужно в таком формате: ваш пароль/одноразовый пароль из приложения, не спешите, проверьте раскладку: 

![W26](https://github.com/lexche/Testyp/assets/95694325/9bb9b5c5-52b7-44d8-9c80-b38a9994c4a2)

Если вы ввели всё верно, то вы увидите следующее:

![W27](https://github.com/lexche/Testyp/assets/95694325/61a2b3d9-8556-4a19-9f4f-85b4bc43be82)

Добро пожаловать. Успехов.






