## Урок 4. Настроить маршрутизацию

Лан пати - это, конечно, круто. Но что делать, если хочется большего? (это шутка, можно вырезать). В этом уроке расскажем про маршрутизацию и маршрутизаторы, а если точнее про 
сетевую IP маршрутизацию и аппаратные маршрутизаторы.

Маршрутизация - это процесс передачи данных от отправителя к получателю в компьютерных сетях. 

Устройства, которое осуществляют маршрутизацию называют маршрутизаторами. Маршрутизаторы бывают аппаратными и программными.

Программные маршрутизаторы - это решения, где функции маршрутизатора виртуализированы и выполняются на обычном аппарате или виртуальной машине. Они обычно работают на стандартном
оборудовании, таком как серверы, и используют программное обеспечение для управления сетевым трафиком. 

Аппаратные маршрутизаторы - это физические устройства, специально разработанные для маршрутизации пакетов данных в компьютерных сетях. Они имеют специализированные процессоры, 
специфическое программное обеспечение и порты для подключения сетевых устройств. Аппаратные маршрутизаторы обычно обладают высокой производительностью, надежностью и обеспечивают
высокую пропускную способность в сети.

##### Как маршрутизатор передает данные между сетями

1. Получение пакета данных: 
   - Когда пакет данных приходит на маршрутизатор, он анализирует адрес назначения, чтобы определить, в какую сеть его нужно отправить.
   - Маршрутизатор проверяет свою таблицу маршрутизации, где записаны пути к различным сетям, для определения наилучшего пути для передачи данных.

2. Принятие решения о маршруте:
   - Основываясь на таблице маршрутизации, маршрутизатор выбирает оптимальный маршрут для доставки пакета данных к адресу назначения.
   - Если необходимо, маршрутизатор может применять различные алгоритмы маршрутизации (например, OSPF, RIP, BGP) для выбора наилучшего пути.

3. Передача пакета данных:
   - Маршрутизатор упаковывает пакет данных в новую оболочку (заголовок), содержащую информацию о пути следования.
   - Он передает пакет через подходящий интерфейс в сеть, где находится адрес назначения.

4. Пересылка через сети:
   - При перемещении через сеть маршрутизаторов (в том числе, если необходимо пересечь несколько маршрутизаторов), каждый следующий маршрутизатор принимает и передает пакет в соответствии с алгоритмом маршрутизации, пока пакет не достигнет своего адреса назначения.

5. Доставка к адресу назначения:
   - Последний маршрутизатор в цепочке маршрутизации доставляет пакет данных к адресу назначения в другой сети, после чего получатель может принять данные и отправить ответные пакеты.

#### Значение маршрутизатора для сетей
- Улучшение эффективности: Маршрутизаторы позволяют эффективно передавать данные между различными сегментами сети, выбирая оптимальные маршруты.
- Сегментация сетей: Маршрутизаторы помогают разделить сеть на отдельные сегменты, обеспечивая безопасность и контроль между ними.
- Подключение к внешним сетям: Маршрутизаторы обеспечивают возможность подключения к интернету и другим внешним сетям, обеспечивая связь с внешним миром.


  #### Маршрутизатор vs Коммутатор

  Чтобы внести ясность и не путаться в дальнейшем, давайте сравним маршрутизаторы и коммутаторы, чтобы понимать кто за что отвечает, и в чём различия:

<p align="center">
<img src="https://github.com/lexche/Testyp/assets/95694325/b51f6134-a053-4461-8aed-1b7cb3afc6da">
</p>

1. Функции:
   - Маршрутизатор: Работает на уровне сети (уровень 3 OSI модели) и выполняет функцию передачи данных между различными сетями, принимая решения о маршруте на основе IP-адресов.
   - Коммутатор: Работает на уровне канала (уровень 2 OSI модели) и обеспечивает коммутацию кадров данных внутри одной сети, управляя трафиком между устройствами внутри одной локальной сети (LAN).

2. Применение:
   - Маршрутизатор: Используется для соединения различных сегментов сети и передачи данных между ними. Хорошо подходит для организации сетей с несколькими подсетями или для подключения к внешним сетям (например, Интернет).
   - Коммутатор: Применяется в локальных сетях для пересылки данных между устройствами в пределах одной сети, обеспечивая более эффективную и безопасную передачу данных в локальной сети.

3. Уровень действия:
   - Маршрутизатор: Определяет маршруты на уровне IP-адресов и работает с пакетами данных.
   - Коммутатор: Работает на уровне MAC-адресов и коммутирует кадры данных внутри локальной сети.

4. Обработка трафика:
   - Маршрутизатор: Принимает решения на основе IP-адресов, проводит маршрутизацию пакетов между различными сетями.
   - Коммутатор: Осуществляет коммутацию данных на основе MAC-адресов, пересылает кадры только адресату.


### Квиз

Вопрос: Какая функция устройства относится к маршрутизатору?
   - A) Коммутация кадров на основе MAC-адресов.
   - B) Маршрутизация пакетов между различными сетями.
   - C) Фильтрация трафика внутри локальной сети.
   - D) Определение MAC-адресов устройств в сети.

   Ответ: Вариант B) - Маршрутизация пакетов между различными сетями. 


Вопрос: Какую функцию выполняет коммутатор?
   - A) Назначение IP-адресов устройствам в сети.
   - B) Пересылка данных между устройствами в локальной сети.
   - C) Распределение интернет-трафика.
   - D) Автоматическое обнаружение соседних устройств.

   Ответ: Вариант B) - Пересылка данных между устройствами в локальной сети. 


Вопрос: Какой протокол используется для развязывания циклов (петель) в сетях Ethernet на коммутаторах?
   - A) HTTP
   - B) STP
   - C) DNS
   - D) SNMP

   Ответ: Вариант B) - STP (Spanning Tree Protocol). STP помогает избежать циклов данных в сети Ethernet, обеспечивая безопасность и надежность передачи данных.


Вопрос: Какие устройства обеспечивают локальное соединение устройств внутри одной сети и работают на уровне канала OSI модели?
   - A) Маршрутизаторы.
   - B) Коммутаторы.
   - C) Маршрутизаторы и коммутаторы.
   - D) Сетевые кабели.

   Ответ: Вариант B) Коммутаторы обеспечивают локальное соединение устройств внутри одной сети и работают на уровне канала OSI модели.

Вопрос: Какие из устройств работают на уровне сети OSI модели?
   - A) Маршрутизаторы.
   - B) Коммутатор.
   - C) Оба устройства.
   - D) Ни одно из указанных устройств.

   Ответ: Вариант A) Маршрутизаторы работают на уровне сети OSI модели (третий уровень), в то время как коммутаторы работают на уровне канала (второй уровень).

---

